# Migration `20200901173931-init`

This migration has been generated by Amenemhat at 9/1/2020, 8:39:31 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE "gameSities"."Sessions" (
"id" SERIAL,
"ChatID" integer  NOT NULL ,
"spentCities" jsonb   ,
"lastLetter" text   ,
"scoreInSession" integer   ,
PRIMARY KEY ("id"))

ALTER TABLE "gameSities"."botContext" ADD COLUMN "sessionsId" integer  NOT NULL ;

CREATE UNIQUE INDEX "Sessions.ChatID_unique" ON "gameSities"."Sessions"("ChatID")

ALTER TABLE "gameSities"."botContext" ADD FOREIGN KEY ("sessionsId")REFERENCES "gameSities"."Sessions"("id") ON DELETE CASCADE ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200901173822-init..20200901173931-init
--- datamodel.dml
+++ datamodel.dml
@@ -3,24 +3,24 @@
 }
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
-// model Sessions {
-//   id             Int     @default(autoincrement()) @id
-//   ChatID         Int  @unique
-//   spentCities    Json?
-//   lastLetter     String?
-//   scoreInSession Int?
-// }
+model Sessions {
+  id             Int     @default(autoincrement()) @id
+  ChatID         Int  @unique
+  spentCities    Json?
+  lastLetter     String?
+  scoreInSession Int?
+}
 model botContext {
   id              Int    @default(autoincrement()) @id
   ChatID          Int  @unique
   translate       String
   text            String
-//  sessions        Sessions
+  sessions        Sessions
   userName        String
   highScore       Int
 }
```


